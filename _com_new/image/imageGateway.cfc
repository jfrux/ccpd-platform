<cfcomponent displayname="imageGateway" output="false">	<cffunction name="init" access="public" output="false" returntype="_com.image.imageGateway">		<cfargument name="dsn" type="string" required="true" />		<cfset variables.dsn = arguments.dsn />		<cfreturn this />	</cffunction>		<cffunction name="getByAttributes" access="public" output="false" returntype="query">		<cfargument name="id" type="numeric" required="false" />		<cfargument name="imagetype_id" type="string" required="false" />		<cfargument name="data_key" type="numeric" required="false" />		<cfargument name="caption" type="string" required="false" />		<cfargument name="filename" type="string" required="false" />		<cfargument name="file_ext" type="string" required="false" />		<cfargument name="orig_filename" type="string" required="false" />		<cfargument name="created" type="date" required="false" />		<cfargument name="created_by" type="numeric" required="false" />		<cfargument name="orderby" type="string" required="false" />				<cfset var qList = "" />				<cfquery name="qList" datasource="#variables.dsn#">			SELECT				id,				imagetype_id,				data_key,				caption,				filename,				file_ext,				orig_filename,				created,				created_by			FROM	ce_image			WHERE	0=0				<cfif structKeyExists(arguments,"id") and len(arguments.id)>			AND	id = <cfqueryparam value="#arguments.id#" CFSQLType="cf_sql_integer" />		</cfif>		<cfif structKeyExists(arguments,"imagetype_id") and len(arguments.imagetype_id)>			AND	imagetype_id = <cfqueryparam value="#arguments.imagetype_id#" CFSQLType="cf_sql_char" />		</cfif>		<cfif structKeyExists(arguments,"data_key") and len(arguments.data_key)>			AND	data_key = <cfqueryparam value="#arguments.data_key#" CFSQLType="cf_sql_integer" />		</cfif>		<cfif structKeyExists(arguments,"caption") and len(arguments.caption)>			AND	caption = <cfqueryparam value="#arguments.caption#" CFSQLType="cf_sql_varchar" />		</cfif>		<cfif structKeyExists(arguments,"filename") and len(arguments.filename)>			AND	filename = <cfqueryparam value="#arguments.filename#" CFSQLType="cf_sql_varchar" />		</cfif>		<cfif structKeyExists(arguments,"file_ext") and len(arguments.file_ext)>			AND	file_ext = <cfqueryparam value="#arguments.file_ext#" CFSQLType="cf_sql_char" />		</cfif>		<cfif structKeyExists(arguments,"orig_filename") and len(arguments.orig_filename)>			AND	orig_filename = <cfqueryparam value="#arguments.orig_filename#" CFSQLType="cf_sql_varchar" />		</cfif>		<cfif structKeyExists(arguments,"created") and len(arguments.created)>			AND	created = <cfqueryparam value="#arguments.created#" CFSQLType="cf_sql_timestamp" />		</cfif>		<cfif structKeyExists(arguments,"created_by") and len(arguments.created_by)>			AND	created_by = <cfqueryparam value="#arguments.created_by#" CFSQLType="cf_sql_integer" />		</cfif>		<cfif structKeyExists(arguments, "orderby") and len(arguments.orderBy)>			ORDER BY #arguments.orderby#		</cfif>		</cfquery>				<cfreturn qList />	</cffunction></cfcomponent>
