<cfcomponent displayname="image" output="false">	<!---	PROPERTIES	--->	<cfset variables.instance = StructNew() />	<!---	INITIALIZATION / CONFIGURATION	--->	<cffunction name="init" access="public" returntype="_com.image.image" output="false">		<cfargument name="id" type="string" required="false" default="" />		<cfargument name="imagetype_id" type="string" required="false" default="" />		<cfargument name="data_key" type="string" required="false" default="" />		<cfargument name="caption" type="string" required="false" default="" />		<cfargument name="filename" type="string" required="false" default="" />		<cfargument name="file_ext" type="string" required="false" default="" />		<cfargument name="orig_filename" type="string" required="false" default="" />		<cfargument name="created" type="string" required="false" default="" />		<cfargument name="created_by" type="string" required="false" default="" />				<!--- run setters --->		<cfset setid(arguments.id) />		<cfset setimagetype_id(arguments.imagetype_id) />		<cfset setdata_key(arguments.data_key) />		<cfset setcaption(arguments.caption) />		<cfset setfilename(arguments.filename) />		<cfset setfile_ext(arguments.file_ext) />		<cfset setorig_filename(arguments.orig_filename) />		<cfset setcreated(arguments.created) />		<cfset setcreated_by(arguments.created_by) />				<cfreturn this /> 	</cffunction>	<!---	PUBLIC FUNCTIONS	--->	<cffunction name="setMemento" access="public" returntype="_com.image.image" output="false">		<cfargument name="memento" type="struct" required="yes"/>		<cfset variables.instance = arguments.memento />		<cfreturn this />	</cffunction>	<cffunction name="getMemento" access="public" returntype="struct" output="false" >		<cfreturn variables.instance />	</cffunction>	<cffunction name="validate" access="public" returntype="array" output="false">		<cfset var errors = arrayNew(1) />		<cfset var thisError = structNew() />				<!--- id --->		<cfif (len(trim(getid())) AND NOT isNumeric(trim(getid())))>			<cfset thisError.field = "id" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "id is not numeric" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- imagetype_id --->		<cfif (len(trim(getimagetype_id())) AND NOT IsSimpleValue(trim(getimagetype_id())))>			<cfset thisError.field = "imagetype_id" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "imagetype_id is not a string" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>		<cfif (len(trim(getimagetype_id())) GT 10)>			<cfset thisError.field = "imagetype_id" />			<cfset thisError.type = "tooLong" />			<cfset thisError.message = "imagetype_id is too long" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- data_key --->		<cfif (len(trim(getdata_key())) AND NOT isNumeric(trim(getdata_key())))>			<cfset thisError.field = "data_key" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "data_key is not numeric" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- caption --->		<cfif (len(trim(getcaption())) AND NOT IsSimpleValue(trim(getcaption())))>			<cfset thisError.field = "caption" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "caption is not a string" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>		<cfif (len(trim(getcaption())) GT 63000)>			<cfset thisError.field = "caption" />			<cfset thisError.type = "tooLong" />			<cfset thisError.message = "caption is too long" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- filename --->		<cfif (len(trim(getfilename())) AND NOT IsSimpleValue(trim(getfilename())))>			<cfset thisError.field = "filename" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "filename is not a string" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>		<cfif (len(trim(getfilename())) GT 250)>			<cfset thisError.field = "filename" />			<cfset thisError.type = "tooLong" />			<cfset thisError.message = "filename is too long" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- file_ext --->		<cfif (len(trim(getfile_ext())) AND NOT IsSimpleValue(trim(getfile_ext())))>			<cfset thisError.field = "file_ext" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "file_ext is not a string" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>		<cfif (len(trim(getfile_ext())) GT 10)>			<cfset thisError.field = "file_ext" />			<cfset thisError.type = "tooLong" />			<cfset thisError.message = "file_ext is too long" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- orig_filename --->		<cfif (len(trim(getorig_filename())) AND NOT IsSimpleValue(trim(getorig_filename())))>			<cfset thisError.field = "orig_filename" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "orig_filename is not a string" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>		<cfif (len(trim(getorig_filename())) GT 250)>			<cfset thisError.field = "orig_filename" />			<cfset thisError.type = "tooLong" />			<cfset thisError.message = "orig_filename is too long" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- created --->		<cfif (len(trim(getcreated())) AND NOT isDate(trim(getcreated())))>			<cfset thisError.field = "created" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "created is not a date" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<!--- created_by --->		<cfif (len(trim(getcreated_by())) AND NOT isNumeric(trim(getcreated_by())))>			<cfset thisError.field = "created_by" />			<cfset thisError.type = "invalidType" />			<cfset thisError.message = "created_by is not numeric" />			<cfset arrayAppend(errors,duplicate(thisError)) />		</cfif>				<cfreturn errors />	</cffunction>	<!---	ACCESSORS	--->	<cffunction name="setid" access="public" returntype="void" output="false">		<cfargument name="id" type="string" required="true" />		<cfset variables.instance.id = arguments.id />	</cffunction>	<cffunction name="getid" access="public" returntype="string" output="false">		<cfreturn variables.instance.id />	</cffunction>	<cffunction name="setimagetype_id" access="public" returntype="void" output="false">		<cfargument name="imagetype_id" type="string" required="true" />		<cfset variables.instance.imagetype_id = arguments.imagetype_id />	</cffunction>	<cffunction name="getimagetype_id" access="public" returntype="string" output="false">		<cfreturn variables.instance.imagetype_id />	</cffunction>	<cffunction name="setdata_key" access="public" returntype="void" output="false">		<cfargument name="data_key" type="string" required="true" />		<cfset variables.instance.data_key = arguments.data_key />	</cffunction>	<cffunction name="getdata_key" access="public" returntype="string" output="false">		<cfreturn variables.instance.data_key />	</cffunction>	<cffunction name="setcaption" access="public" returntype="void" output="false">		<cfargument name="caption" type="string" required="true" />		<cfset variables.instance.caption = arguments.caption />	</cffunction>	<cffunction name="getcaption" access="public" returntype="string" output="false">		<cfreturn variables.instance.caption />	</cffunction>	<cffunction name="setfilename" access="public" returntype="void" output="false">		<cfargument name="filename" type="string" required="true" />		<cfset variables.instance.filename = arguments.filename />	</cffunction>	<cffunction name="getfilename" access="public" returntype="string" output="false">		<cfreturn variables.instance.filename />	</cffunction>	<cffunction name="setfile_ext" access="public" returntype="void" output="false">		<cfargument name="file_ext" type="string" required="true" />		<cfset variables.instance.file_ext = arguments.file_ext />	</cffunction>	<cffunction name="getfile_ext" access="public" returntype="string" output="false">		<cfreturn variables.instance.file_ext />	</cffunction>	<cffunction name="setorig_filename" access="public" returntype="void" output="false">		<cfargument name="orig_filename" type="string" required="true" />		<cfset variables.instance.orig_filename = arguments.orig_filename />	</cffunction>	<cffunction name="getorig_filename" access="public" returntype="string" output="false">		<cfreturn variables.instance.orig_filename />	</cffunction>	<cffunction name="setcreated" access="public" returntype="void" output="false">		<cfargument name="created" type="string" required="true" />		<cfset variables.instance.created = arguments.created />	</cffunction>	<cffunction name="getcreated" access="public" returntype="string" output="false">		<cfreturn variables.instance.created />	</cffunction>	<cffunction name="setcreated_by" access="public" returntype="void" output="false">		<cfargument name="created_by" type="string" required="true" />		<cfset variables.instance.created_by = arguments.created_by />	</cffunction>	<cffunction name="getcreated_by" access="public" returntype="string" output="false">		<cfreturn variables.instance.created_by />	</cffunction>	<!---	DUMP	--->	<cffunction name="dump" access="public" output="true" return="void">		<cfargument name="abort" type="boolean" default="false" />		<cfdump var="#variables.instance#" />		<cfif arguments.abort>			<cfabort />		</cfif>	</cffunction></cfcomponent>
